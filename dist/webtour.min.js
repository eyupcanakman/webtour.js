"use strict";function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var WebTour=function(){"use strict";function e(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var n,s,i,l,d=[],r=!0,a=!1;try{if(i=(o=o.call(e)).next,0===t){if(Object(o)!==o)return;r=!1}else for(;!(r=(n=i.call(o)).done)&&(d.push(n.value),d.length!==t);r=!0);}catch(e){a=!0,s=e}finally{try{if(!r&&null!=o["return"]&&(l=o["return"](),Object(l)!==l))return}finally{if(a)throw s}}return d}}function t(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function o(e){for(var o,n=1;n<arguments.length;n++)o=null==arguments[n]?{}:arguments[n],n%2?t(Object(o),!0).forEach(function(t){l(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))});return e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,c(o.key),o)}function i(e,t,o){return t&&s(e.prototype,t),o&&s(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t,o){return t=c(t),t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function d(t,o){return r(t)||e(t,o)||a(t,o)||f()}function r(e){if(Array.isArray(e))return e}function a(e,t){if(e){if("string"==typeof e)return p(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=Array(t);o<t;o++)n[o]=e[o];return n}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(o!==void 0){var n=o.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function c(e){var t=h(e,"string");return"symbol"===_typeof(t)?t:t+""}var y=function(){var e=Math.abs;function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return(n(this,t),!!this.constructor.instance)?this.constructor.instance:(this.constructor.instance=this,this.options=o({animate:!0,opacity:.5,offset:20,borderRadius:3,allowClose:!0,highlight:!0,highlightOffset:5,keyboard:!0,width:"300px",zIndex:10050,removeArrow:!1,autoScroll:!0,onNext:function e(){return null},onPrevious:function e(){return null}},e),this.labels={next:"Next &#8594;",prev:"&#8592; Back",done:"Done",close:"Close"},this.steps=[],this.stepIndex=0,this.isRunning=!1,this.isPaused=!1,this.window=window,this.document=document,this.onClick=this.onClick.bind(this),this.onResize=this.onResize.bind(this),this.onKeyUp=this.onKeyUp.bind(this),this.bind(),this)}return i(t,[{key:"bind",value:function e(){"ontouchstart"in this.document.documentElement?this.window.addEventListener("touchstart",this.onClick,!1):this.window.addEventListener("click",this.onClick,!1),this.window.addEventListener("resize",this.onResize,!1),this.window.addEventListener("keyup",this.onKeyUp,!1)}},{key:"onClick",value:function e(t){t.stopPropagation(),t.target.classList.contains("wt-btn-next")&&(this.onNext(),this.next()),t.target.classList.contains("wt-btn-back")&&(this.onPrevious(),this.previous()),t.target.classList.contains("wt-overlay")&&this.options.allowClose&&this.stop()}},{key:"onKeyUp",value:function t(e){return this.isRunning&&this.options.keyboard?27===e.keyCode&&this.options.allowClose?void this.stop():void(39===e.keyCode?(this.onNext(),this.next()):37===e.keyCode&&(this.onPrevious(),this.previous())):void 0}},{key:"onResize",value:function e(){this.isRunning&&(this.clear(),this.render(this.steps[this.stepIndex]))}},{key:"setSteps",value:function t(e){this.steps=null,this.steps=e}},{key:"getSteps",value:function e(){return this.steps}},{key:"highlight",value:function t(e){var o=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return function(e){o.isRunning=!0;var e=o.document.querySelector(e);e&&(n?(o.steps=null,o.stepIndex=0,o.steps=n,o.render(o.steps[o.stepIndex])):o.createOverlay(e,n))}(e)}},{key:"start",value:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;this.isRunning=!0,this.stepIndex=t,this.render(this.steps[this.stepIndex])}},{key:"stop",value:function e(){this.clear(),this.isRunning=!1}},{key:"showLoader",value:function e(){var t=this.document.querySelector(".wt-popover"),o=this.document.createElement("div");o.classList.add("wt-loader"),o.style.zIndex=this.options.zIndex+10,t.prepend(o)}},{key:"moveNext",value:function e(){this.isPaused=!1,this.next()}},{key:"movePrevious",value:function e(){this.isPaused=!1,this.previous()}},{key:"onNext",value:function e(){this.isPaused||this.steps[this.stepIndex]&&this.steps[this.stepIndex].onNext&&this.steps[this.stepIndex].onNext()}},{key:"onPrevious",value:function e(){this.isPaused||this.steps[this.stepIndex]&&this.steps[this.stepIndex].onPrevious&&this.steps[this.stepIndex].onPrevious()}},{key:"next",value:function e(){if(!this.isPaused)return this.stepIndex++,this.clear(),0!==this.steps.length&&(this.stepIndex>=this.steps.length?void this.stop():void this.render(this.steps[this.stepIndex]))}},{key:"previous",value:function e(){if(!this.isPaused)return this.stepIndex--,this.clear(),0!==this.steps.length&&(0>this.stepIndex?void this.stop():void this.render(this.steps[this.stepIndex]))}},{key:"render",value:function t(e){var o=e.element?this.document.querySelector(e.element):null;if(o){o.style.position=o.style.position?o.style.position:"relative";var n=!e.highlight||e.highlight;this.options.highlight&&n&&o.setAttribute("wt-highlight","true")}var s=this.document.createElement("div");s.classList.add("wt-popover"),s.style.borderRadius=this.options.borderRadius+"px",s.style.zIndex=this.options.zIndex+10,e.placement&&s.classList.add(e.placement),this.options.width&&("string"==typeof this.options.width?s.style.width=this.options.width:0<this.options.width&&(s.style.width=this.options.width+"px")),e.width&&("string"==typeof e.width?s.style.width=e.width:0<e.width&&(s.style.width=e.width+"px"));var i=this.document.createElement("div");i.classList.add("wt-popover-inner");var l=this.document.createElement("div");l.classList.add("wt-title"),e.title&&i.append(l),e.title&&(l.innerText=e.title);var d=this.document.createElement("div");d.classList.add("wt-content"),i.append(d),d.innerHTML=e.content?e.content:"";var r=null==e.showBtns||"undefined"==e.showBtns||!!e.showBtns;if(r){var a=this.document.createElement("button"),p=this.document.createElement("button");a.classList.add("wt-btns","wt-btn-next"),p.classList.add("wt-btns","wt-btn-back"),a.innerHTML=e.btnNext&&e.btnNext.text?e.btnNext.text:this.stepIndex==this.steps.length-1?this.labels.done:this.labels.next,p.innerHTML=e.btnBack&&e.btnBack.text?e.btnBack.text:0==this.stepIndex?this.labels.close:this.labels.prev,a.style.backgroundColor=e.btnNext&&e.btnNext.backgroundColor?e.btnNext.backgroundColor:"#7cd1f9",a.style.color=e.btnNext&&e.btnNext.textColor?e.btnNext.textColor:"#fff",p.style.backgroundColor=e.btnBack&&e.btnBack.backgroundColor?e.btnBack.backgroundColor:"#efefef;",p.style.color=e.btnBack&&e.btnBack.textColor?e.btnBack.textColor:"#555",i.append(a),i.append(p)}var f=this.document.createElement("div");if(f.classList.add("wt-arrow"),f.setAttribute("data-popper-arrow","true"),s.append(f),s.append(i),this.document.body.appendChild(s),o)this.positionPopover(o,s,f,e),this.options.highlight&&this.createOverlay(o,e);else{if(s.classList.add("wt-slides"),this.options.autoScroll&&s.scrollIntoView({behavior:"smooth",block:"center",inline:"center"}),this.options.highlight){var h=document.createElement("div");h.classList.add("wt-overlay","open"),h.style.zIndex=this.options.zIndex-10,h.style.position="fixed",h.style.top=0,h.style.left=0,h.style.right=0,h.style.bottom=0,this.document.body.appendChild(h)}f.remove()}this.options.removeArrow&&f.remove()}},{key:"clear",value:function e(){var t=this.document.querySelector(".wt-popover"),o=this.document.querySelector(".wt-loader");t&&t.remove(),o&&o.remove(),this.document.querySelectorAll(".wt-overlay").forEach(function(e){e.remove()}),this.document.querySelectorAll("*[wt-highlight]").forEach(function(e){e.removeAttribute("wt-highlight")})}},{key:"getWindowOffset",value:function e(){return{height:this.window.innerHeight-(this.window.innerHeight-this.document.documentElement.clientHeight),width:this.window.innerWidth-(this.window.innerWidth-this.document.documentElement.clientWidth)}}},{key:"getOffset",value:function t(e){for(var o=0,n=0,s=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)o+=e.offsetLeft-e.scrollLeft,n+=e.offsetTop-e.scrollTop,e=e.offsetParent;return n=parseInt(s.y)>parseInt(n)?s.y:n,o=parseInt(s.x)>parseInt(o)?s.x:o,{top:n,left:o}}},{key:"getTranslateXY",value:function o(t){var n=window.getComputedStyle(t),s=new DOMMatrixReadOnly(n.transform);return{translateX:e(t.offsetWidth*(s.m41/100)),translateY:e(t.offsetHeight*(s.m42/100))}}},{key:"getTranslate3D",value:function t(e){var o,n,s,i=window.getComputedStyle(e,null).getPropertyValue("-webkit-transform"),l=i.match(/matrix(?:(3d)\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}\d+))(?:, (-{0,1}\d+))(?:, (-{0,1}\d+)), -{0,1}\d+\)|\(-{0,1}\d+(?:, -{0,1}\d+)*(?:, (-{0,1}.+))(?:, (-{0,1}.+))\))/);if(!l)return{X:0,Y:0,Z:0};if("3d"==l[1]){var r=l.slice(2,5),a=d(r,3);return o=a[0],n=a[1],s=a[2],{X:o,Y:n,Z:s}}l.push(0);var p=l.slice(5,8),f=d(p,3);return o=f[0],n=f[1],s=f[2],{X:o,Y:n,Z:s}}},{key:"getElementPosition",value:function t(e){return{top:this.getOffset(e).top+this.getTranslate3D(e).Y-(e.style.transform?this.getTranslateXY(e).translateY:0),left:this.getOffset(e).left+this.getTranslate3D(e).X-(e.style.transform?this.getTranslateXY(e).translateX:0)}}},{key:"positionPopover",value:function i(t,o,n,s){var l=s.placement||"auto",d=s.strategy||"absolute";o.style.position=d,n.style.position="absolute";var r,a;if(r=this.getElementPosition(t).top,a=this.getElementPosition(t).left,"auto"==l||"auto-start"==l||"auto-end"==l){var p=l.replace("auto","").trim(),f="";r+(o.offsetHeight+this.options.offset)>this.window.innerHeight-100&&(a<this.window.innerWidth/3?f=0<p.length?p:"-start":a>this.window.innerWidth-this.window.innerWidth/3&&(f=0<p.length?p:"-end"),l="top"+f),a+t.offsetWidth+o.offsetWidth>this.window.innerWidth&&(r<this.window.innerHeight/3?f=0<p.length?p:"-start":r>this.window.innerHeight-this.window.innerHeight/3&&(f=0<p.length?p:"-start"),l="left"+f),a<o.offsetWidth&&t.offsetWidth+o.offsetWidth<this.window.innerWidth&&(r<this.window.innerHeight/3?f=0<p.length?p:"-start":r>this.window.innerHeight-this.window.innerHeight/3&&(f=0<p.length?p:"-start"),l="right"+f),(r<o.offsetHeight+this.options.offset||100>r)&&(a<this.window.innerWidth/3?f=0<p.length?p:"-start":a>this.window.innerWidth-this.window.innerWidth/3&&(f=0<p.length?p:"-end"),l="bottom"+f),o.classList.add(l)}"top"==l?(o.style.top=r-(o.offsetHeight+this.options.offset)+"px",o.style.left=a+(t.offsetWidth/2-o.offsetWidth/2)+"px"):"top-start"==l?(o.style.top=r-(o.offsetHeight+this.options.offset)+"px",o.style.left=a-this.options.highlightOffset+"px"):"top-end"==l?(o.style.top=r-(o.offsetHeight+this.options.offset)+"px",o.style.left=a+t.offsetWidth+this.options.highlightOffset-o.offsetWidth+"px"):"bottom"==l?(o.style.top=r+t.offsetHeight+this.options.offset+"px",o.style.left=a+t.offsetWidth/2-o.offsetWidth/2+"px"):"bottom-start"==l?(o.style.top=r+t.offsetHeight+this.options.offset+"px",o.style.left=a-this.options.highlightOffset+"px"):"bottom-end"==l?(o.style.top=r+t.offsetHeight+this.options.offset+"px",o.style.left=a+t.offsetWidth+this.options.highlightOffset-o.offsetWidth+"px"):"right"==l?(o.style.top=r+e(o.offsetHeight-t.offsetHeight)/2+"px",o.style.left=a+(t.offsetWidth+this.options.offset)+"px"):"right-start"==l?(o.style.top=r-this.options.highlightOffset+"px",o.style.left=a+(t.offsetWidth+this.options.offset)+"px"):"right-end"==l?(o.style.top=r+t.offsetHeight-o.offsetHeight+this.options.highlightOffset+"px",o.style.left=a+(t.offsetWidth+this.options.offset)+"px"):"left"==l?(o.style.top=r+e(o.offsetHeight-t.offsetHeight)/2+"px",o.style.left=a-(o.offsetWidth+this.options.offset)+"px"):"left-start"==l?(o.style.top=r-this.options.highlightOffset+"px",o.style.left=a-(o.offsetWidth+this.options.offset)+"px"):"left-end"==l&&(o.style.top=r+t.offsetHeight-o.offsetHeight+this.options.highlightOffset+"px",o.style.left=a-(o.offsetWidth+this.options.offset)+"px"),this.options.autoScroll&&("fixed"===d?this.window.scrollTo(0,0):o.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}},{key:"createOverlay",value:function t(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=o&&o.strategy?o.strategy:"absolute",s=document.createElement("div");s.classList.add("wt-overlay","open","overlay1"),s.style.zIndex=this.options.zIndex-10;var i=document.createElement("div");i.classList.add("wt-overlay","open","overlay2"),i.style.zIndex=this.options.zIndex-10;var l=document.createElement("div");l.classList.add("wt-overlay","open","overlay3"),l.style.zIndex=this.options.zIndex-10;var d=document.createElement("div");d.classList.add("wt-overlay","open","overlay4"),d.style.zIndex=this.options.zIndex-10,this.document.body.appendChild(s),this.document.body.appendChild(i),this.document.body.appendChild(l),this.document.body.appendChild(d);var r,a;r=this.getElementPosition(e).top,a=this.getElementPosition(e).left;var p=this.options.highlightOffset;s.style.position=n,s.style.top=0,s.style.width=a-p+"px",s.style.height=r+e.offsetHeight+p+"px",s.style.left=0,i.style.position=n,i.style.top=0,i.style.right=0,i.style.height=r-p+"px",i.style.left=a-p+"px",l.style.position=n,l.style.top=r-p+"px",l.style.right=0,l.style.bottom=0-(this.document.body.offsetHeight-this.window.innerHeight)+"px",l.style.left=a+e.offsetWidth+p+"px",d.style.position=n,d.style.top=r+e.offsetHeight+p+"px",d.style.width=a+e.offsetWidth+p+"px",d.style.bottom=0-(this.document.body.offsetHeight-this.window.innerHeight)+"px",d.style.left=0}}]),t}();return y}();
